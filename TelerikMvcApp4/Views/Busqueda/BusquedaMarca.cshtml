@model IEnumerable<TelerikMvcApp4.Models.BusquedaMarca>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Busqueda Marcas</title>
    <link href="@Url.Content("~/Content/kendo/2016.1.412/kendo.common.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2016.1.412/kendo.mobile.all.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2016.1.412/kendo.dataviz.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2016.1.412/kendo.bootstrap.min.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/kendo/2016.1.412/kendo.dataviz.bootstrap.min.css")" rel="stylesheet" type="text/css" />
    @*<link href="@Url.Content("~/Content/bootstrap.css")" rel="stylesheet" type="text/css" />
        <link href="@Url.Content("~/Content/bootstrap.min.css")" rel="stylesheet" type="text/css" />*@
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="@Url.Content("~/Scripts/kendo/2016.1.412/jquery.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2016.1.412/jszip.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2016.1.412/kendo.all.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo/2016.1.412/kendo.aspnetmvc.min.js")"></script>
    <script src="@Url.Content("~/Scripts/kendo.modernizr.custom.js")"></script>
    <link href="@Url.Content("~/Content/site.css")" rel="stylesheet" type="text/css" />
</head>
<body>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Century | Next</a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav ul-Menu">
                    <li>@Html.ActionLink("Inicio", "Index", "Gestion")</li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Movimientos<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="~/Gestion/RegistroMarca">Solicitudes</a></li>
                            @*<li><a href="~/Gestion/Renovacion">Renovación </a></li>*@
                            <li><a href="~/Gestion/PatenteInversion">Patente de Invención</a></li>
                            <li><a href="~/Gestion/MovimientoExpediente">Movimiento de Expediente</a></li>
                            <li><a href="~/Gestion/DibujoIndustriales">Dibujos Modelos Industriales</a></li>
                            <li class="divider"></li>
                            <li><a href="~/Gestion/ImagenesPublicacion">Imagenes de publicación</a></li>
                            @*<li><a href="~/Gestion/VerEstado">Modificación de Estados</a></li>*@
                        </ul>
                    </li>
                    @*<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="true">Mantenimientos<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="~/Mantenimiento/MantenimientoPoderes">Mantenimiento de Poderes</a></li>
                            <li class="divider"></li>
                            <li><a href="~/Mantenimiento/MantenimientoGeneral">Otros Mantenimientos</a></li>
                            <li class="divider"></li>
                        </ul>
                    </li>*@
                    <li><a href="~/Mantenimiento/MantenimientoGeneral">Mantenimientos</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Consultas<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="~/Busqueda/BusquedaMarca">Busqueda  de Marcas</a></li>
                            <li><a href="~/Busqueda/BusquedasParecidos">Busqueda de parecidos fonéticos</a></li>
                            <li class="divider"></li>
                            @*<li><a href="~/Busqueda/DibujoIndustriales">Dibujos Modelos Industriales</a></li>*@
                            <li class="divider"></li>
                            <li><a href="~/Busqueda/BusquedaMarca">Vigilancia de Marcas</a></li>
                        </ul>
                    </li>
                </ul>
                @*<div class="nav navbar-nav navbar-right">
                    <form class="navbar-form navbar-left" role="search">
                        <div class="form-group">
                            
                            @(Html.Kendo().AutoComplete()
                              .Name("countries")
                              .Filter("startswith")
                              .Placeholder("Busqueda")
                              .BindTo(new string[] {
                                    "Albania",
                                    "Andorra",
                                    "Armenia",
                                    "Austria",
                                    "Azerbaijan",
                                    "Belarus",
                                    "Belgium",
                                    "Bosnia & Herzegovina",
                                    "Bulgaria",
                                    "Croatia",
                                    "Cyprus",
                                    "Czech Republic",
                                    "Denmark",
                                    "Estonia",
                                    "Finland",
                                    "France",
                                    "Georgia",
                                    "Germany",
                                    "Greece",
                                    "Hungary",
                                    "Iceland",
                                    "Ireland",
                                    "Italy",
                                    "Kosovo",
                                    "Latvia",
                                    "Liechtenstein",
                                    "Lithuania",
                                    "Luxembourg",
                                    "Macedonia",
                                    "Malta",
                                    "Moldova",
                                    "Monaco",
                                    "Montenegro",
                                    "Netherlands",
                                    "Norway",
                                    "Poland",
                                    "Portugal",
                                    "Romania",
                                    "Russia",
                                    "San Marino",
                                    "Serbia",
                                    "Slovakia",
                                    "Slovenia",
                                    "Spain",
                                    "Sweden",
                                    "Switzerland",
                                    "Turkey",
                                    "Ukraine",
                                    "United Kingdom",
                                    "Vatican City"
                              })
                              .Separator(", ").HtmlAttributes(new { @class = "form-control" })
                            )


                        </div>
                        <button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                    </form>
                </div>*@
            </div>
        </div>
    </nav>
   <br />
    <div class="container-fluid well">
        <div class="row">
            <div class="col-md-2">
                <div class="input-group input-group-sm">
                    <span class="input-group-addon" id="sizing-addon1">Agente</span>
                    <input type="text" class="form-control" placeholder="Nombre de Agente" aria-describedby="sizing-addon1"  id="idAgente" name="idAgente">
                </div>
            </div>
            <div class="col-md-2">
                <div class="input-group input-group-sm">
                    <span class="input-group-addon" id="sizing-addon2">Expediente</span>
                    <input type="text" class="form-control" placeholder="Nº de Expediente" aria-describedby="sizing-addon2"  id="idExpediente" name="idExpediente">
                </div>
            </div>
            <div class="col-md-2">
                <div class="input-group input-group-sm">
                    <span class="input-group-addon" id="sizing-addon3">Registro</span>
                    <input type="text" class="form-control" placeholder="Nº de Registro" aria-describedby="sizing-addon3"  id="idRegistro" name="idRegistro">
                </div>
            </div>
            <div class="col-md-2">
                <div class="input-group input-group-sm">
                    <span class="input-group-addon" id="sizing-addon4">Marca</span>
                    <input type="text" class="form-control" placeholder="Nombre de Marca" aria-describedby="sizing-addon4"  id="idMarca" name="idMarca">
                </div>
            </div>
            <div class="col-md-2">
                <button type="button" class="btn btn-success" id="buscarDatos" name="buscarDatos">Buscar <span class="glyphicon glyphicon-search"></span></button>
            </div> 
        </div>
      
    </div>
    <p><strong>Agente:</strong> <span id="AgenteInfo"></span></p>
    <table class="table table-responsive">
        <tr class="th-detalle">
            <th>
               FECHA DE SOLICITUD
            </th>
            <th>
                EXPEDIENTE
            </th>
            <th>
               CLASE
            </th>
            <th>
                DENOMINACION
            </th>           
            <th>
               TITULAR
            </th>
            <th>
                ESTADO
            </th>
            <th>
               FECHA ESTADO
            </th>
            <th>
                REGISTRO Nº
            </th>
            <th>
                FECHA VENCIMIENTO
            </th>
            <th>
                RENUEVA REGISTRO
            </th>
            <th>
                ULTIMO MOVIMIENTO ADMINISTRATIVO
            </th>
            <th>
              HISTORIAL
            </th>     
            <th>
                VER DETALLE
            </th>          
        </tr>
        <tbody id="ContentBusqueda" style="text-align:center;">

        </tbody>
    </table>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script>        
        $("#buscarDatos").click(function () {
            $("#ContentBusqueda td").remove();
             var Agente = $("#idAgente").val();
            var Expediente = $("#idExpediente").val();
            var Registro = $("#idRegistro").val();
            var Marca = $("#idMarca").val();
            alert("demo");
            $.ajax({
            url: "@Url.Action("BuscarDatos", "Busqueda")",
            data: "{'Agente': '"+Agente+"' , 'Expediente':'"+Expediente+"' , 'Registro':'"+Registro+"', 'Marca':'" +Marca+ "' }",
            dataType: "json",
            type: "POST",
            contentType: "application/json; charset=utf-8",
            success: function (data) {
                $.each(data, function (i, item) {
                    $('#ContentBusqueda').append('<tr>');
                    $('#ContentBusqueda').append($('<td />').text(item.FechaExpèdiente));
                    $('#ContentBusqueda').append($('<td />').text(item.Empresa));
                    $('#ContentBusqueda').append($('<td />').text(item.Clase));
                    $('#ContentBusqueda').append($('<td />').text(item.Denominacion));
                    $('#ContentBusqueda').append($('<td />').text(item.Expediente));
                    $('#ContentBusqueda').append($('<td />').text(item.Status));
                    $('#ContentBusqueda').append($('<td />').text(item.FechaInicioRegistro));
                    $('#ContentBusqueda').append($('<td />').text(item.Registro));
                    $('#ContentBusqueda').append($('<td />').text(item.FechaVencimientoRegistro));
                    $('#ContentBusqueda').append('<tr/>');
                    $("#AgenteInfo").text(item.Agente);
                });
            },
            error: function (request, status, error) {
                alert(xhr.responseText );
            },
            failure: function (response) {
                alert("arriva al failure");
            }
            });
        });
    </script>
</body>
</html>
